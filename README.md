# network_traffic_report
R로 무선통신_기술방식별_트래픽_현황 분석


과제로한거고 야매로 배운 R로작성한거라 근본이 없는 코드지만 올려놈..  
데이터 제공은 서울시 공공데이터.

---


# 무선통신_기술방식별_트래픽_현황

## 산점도

산점도를 보면, 3G가 감소할때 4G는 매우 증가하고 있음을 알 수 있다. (음의 상관관계를 가지고 있다.)

## 산점도 행렬
2G, 3G, 4G, wibro, wifi 서로 얼마나 연관 있는지에 대한 산점도 행렬을 작성해보면 
2G-3G간에는 양의 상관관계가 두드러진다.
2G-4G간에는 음의 상관관계가 두드러진다
3G-4G간에는 음의 상관관계가 두드러진다.
3G-wifi간에는 음의 상관관계가 두드러진다.
4G-wibro 간에는 음의 상관관계가 두드러진다.
4G-wifi 간에는 양의 상관관계가 두드러진다.


## 상관계수 계산
산점도행렬에서 분석한대로,
양의 상관관계가 있는 데이터 간에는 상관계수가 1에 가깝고
음의 상관관계가 있는 데이터 간에는 상관계수가 -1에 가깝게 나타난 것을 확인할 수 있었다.
비교적 상관관계가 없어 보이는 데이터 간에는 상관계수가 0에 가깝게 나타남을 확인할 수 있다. (ex. 2G - Wibro, 3G-Wibro)

## 상관계수에 대한 검정
cor.test는 상관계수와 더불어 상관계수의 p-value와 신뢰구간을 알 수 있다.
결과를 보면 p-value < 2.2e-16 으로 
유의수준 5% 에서 r=0(3G와 4G는 상관관계는 없다)라는 귀무가설을 기각한다. 
(즉, 3G와 4G 사이에는 상관관계가 있다.) 
둘의 상관계수는 -0.87 로 강한 음의 상관관계가 있음을 알 수 있다.

## 상관계수와 p-value
p-value 를 소수점 4째짜리까지 반올림하여 보여주는데
대부분 0 으로 귀무가설을 기각하고있는 것을 알 수 있다.



## 상관계수의 그래프적 표현

상관계수를 그래프로 가시적으로 표현해본다.

상관계수가 몇인지 숫자 혹은 도형으로 나타내는데, 양의 상관관계가 클수록 파란색으로
음의 상관관계가 클수록 빨간색으로 나타난다. 상관이 거의 없으면 색상이 옅어진다. 
Wifi-4G간에 강한 양의 상관관계가,
4G와 3G간에 강한 음의 상관관계가 있음을 한눈에 알 수 있다.


## 편상관계수의 계산 - pcor은 처음 두 변수의 상관관계를 계산. 나머지 변수는 통제변수.  
pcor은 처음 두 변수의 선형 관계를 설명하는 편상관계수를 계산. 나머지 변수는 통제변수.
각각의 편 상관계수는 아래와 같이 나타난다. 
 

## 연도별로 구분된 산점도 작성

지속적으로 음의 상관관계를 가져갔던 3G와 4G이지만, 13~14년도에 가장 급격하게 3G가 감소하고 4G가 증가했음을 확인할 수 있다.
이에 4G가 13년부터 대중적으로 도입이 되었음을 추측할 수 있다.


## 연도별 상관계수의 출럭
2012년에는 p-value가 0.05 이상으로 
둘 사이에는 상관관계가 없다는 귀무가설을 기각할 수 없다.
따라서 2012년도에만 해도 , 3g와 4g의 수치가 큰 상관이 없는 상태였음을 알 수 있다.


반면 2017년의 경우 p-value가 0.05 이하로 떨어지며 둘 사이에 상관관계가 없다는 귀무가설을 기각한다. 둘 사이에는 큰 음의 상관관계가 있어, 이 시기에 3G 사용량은 매우 적어진 반면 4G사용량은 매우 커졌음을 알 수 있다.


## 단순 회귀분석
반응변수 Y를 4G 트래픽량, 설명변수 X를 wifi의 트래픽량으로 놓고 회귀분석을 진행해보니 
Y(4G) = 26.36*X(Wifi)  -97924.87
위와 같은 관계임을 알 수 있다. 즉 wifi의 트래픽량이 증가할수록 이와 같은 관계성으로 4G의 트래픽량이 증가함을 예측할 수 있다. 

## 산점도와 회귀직선의 출력
이를 그래프와하면 아래와 같이 나타난다. 
 
## 예측값 및 신뢰구간
회귀계수의 95% 신뢰구간을 보여준다. 
이 표를 보면, 4G가 1 증가하면 wifi 사용률이 25 증가한다고 95%의 확신을 가지고 말할 수 있다.
y(4G)의 평균값에 대한 예측 및 신뢰구간을 나타낸다. 즉 전체값에 관한 예측을 나타낸다.	

y(4G)의 개별 관측치에 대한 예측 및 신뢰구간을 나타낸다. 즉 개별값에 관한 예측을 나타낸다.

## 단순회귀모형 진단
 
1. Residuals vs Fitted 
등분산성 가정을 검증한다. 분산이 일정하다면 일정한 패턴 없이 랜덤하게 퍼져 있는 모습으로 보여야한다.그림을 보면 랜덤하게 퍼져 있어 등분산성 가정을 충족한다. 
또한 잔차의 평균은 선형적인 패턴으로 나타나야 하는데 해당 모델은 평균이 일관되게 나타나고 있다.

2. Normal Q-Q
Q-Q 도표는 정규성을 알 수 있다. 정규성 가정을 만족하면 그래프의 45도선에 점이 밀집해야 하는데, 해당 그래프는 완벽하지는 않지만 어느정도 45도선에 데이터가 밀집해 있다. 

3. Scale-Location
이 그래프도 등분산성을 검증할 수 있는 그래프이다. 예측 값에 따라 잔차가 고른 분포를 보이고있는지를 보여준다. 
x값이 어느 위치에 있던 비교적 수평적인 선을 보이고있으므로 등분산성을 만족한다. 

4. Residuals vs Leverage
이 그래프는 모형에 막대한 영향을 미치는 값을 찾을 수 있다. 이상치, 큰지레점, 영향관측치를 확인 할 수 있는데 모델에 막대한영향을 끼치는 outlier는 없는 것으로 보인다.


## 표준화잔차의 탐색 

### 표준화잔차의 히스토그램과 정규확률도표 작성
qqplot으로 보다 정확한 정규성 검정을 할 수 있다.
 
그래프를 보면 79, 80 데이터를 제외하고는 거의 모든 점이 95% 신뢰구간 안에 위치하고있어 정규성 가정을 만족한다고 할 수 있다.


## 더빈-왓슨(Durbin-Watson) 통계량의 출력

자기연관성을 계산한다. 더빈왓슨테스트는 1~4 사이면 독립성이 있다고 판단하고 2에 근접하는 경우는 완전히 독립적인 경우이다.
따라서 이 데이터는 어느정도 상관성이 있다고 볼 수 있다. 
## 다중 회귀분석  
 
y^(y hat – 4G) = -1.004e+05 + 1.077e-01 X1(3G) + 2.653e+01(Wifi)
분산분석 결과 귀무가설(3g, wifi는 4g와 상관이 없다)을 기각.


## 표준화 회귀계수의 출력 

### 전진 선택법
 
### 후진 제거법

### 단계적 방법
 

## 분산확대인자(VIF)의 출력

통상 분산확대인자(VIF)의 루트값이 2을 초과하면 다중 공선성에 문제가 있는 것으로 본다.


검사 결과 해당 모델은 다중 공선성의 문제가 있는 모델인 것으로 보인다.

